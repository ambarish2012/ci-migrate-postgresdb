'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.undoRename = exports.rename = exports.create = exports.drop = undefined;

var _utils = require('../utils');

var drop = exports.drop = function drop(schema_name) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      ifExists = _ref.ifExists,
      cascade = _ref.cascade;

  return _utils.template`DROP SCHEMA${ifExists ? ' IF EXISTS' : ''} "${schema_name}"${cascade ? ' CASCADE' : ''};`;
};

var create = exports.create = function create(schema_name, options) {
  var ifNotExists = options.ifNotExists,
      authorization = options.authorization;

  return _utils.template`CREATE SCHEMA${ifNotExists ? ' IF NOT EXISTS' : ''} "${schema_name}"${authorization ? ` AUTHORIZATION ${authorization}` : ''};`;
};

// RENAME
var rename = exports.rename = function rename(schema_name, new_schema_name) {
  return _utils.template`ALTER SCHEMA  "${schema_name}" RENAME TO "${new_schema_name}";`;
};

var undoRename = exports.undoRename = function undoRename(schema_name, new_schema_name) {
  return rename(new_schema_name, schema_name);
};

create.reverse = drop;
rename.reverse = undoRename;